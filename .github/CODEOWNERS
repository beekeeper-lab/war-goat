# CODEOWNERS - Defines code ownership for review requirements
#
# When branch protection is enabled with "Require review from Code Owners",
# changes to files matching these patterns will require approval from the
# specified owners before merging.
#
# Format: <pattern> <owner1> <owner2> ...
# Owners can be: @username, @org/team-name, or email@example.com
#
# See: https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners

# =============================================================================
# CRITICAL: Repository Configuration & CI/CD
# =============================================================================
# Changes here affect builds, deployments, and repository settings

/.github/                           @gregg
/.github/workflows/                 @gregg
/.github/CODEOWNERS                 @gregg

# =============================================================================
# HIGH RISK: AI Agent Configuration
# =============================================================================
# Claude commands and hooks define agent behavior
# Mistakes here can affect all workflow automation

/.claude/                           @gregg
/.claude/commands/                  @gregg
/.claude/hooks/                     @gregg

# =============================================================================
# HIGH RISK: Workflow Automation Scripts
# =============================================================================
# These scripts drive the multi-agent workflow system
# Errors can corrupt workflows or merge incorrect code

/scripts/                           @gregg
/scripts/agent-runner.sh            @gregg
/scripts/start-workflow.sh          @gregg
/scripts/workflow.sh                @gregg
/scripts/workflow/                  @gregg

# =============================================================================
# HIGH RISK: Backend API & Server
# =============================================================================
# Server-side code handles data and external integrations

/server/                            @gregg

# =============================================================================
# MEDIUM RISK: MCP Servers
# =============================================================================
# Model Context Protocol servers provide AI capabilities

/mcp-servers/                       @gregg

# =============================================================================
# MEDIUM RISK: Configuration Files
# =============================================================================
# Changes affect build, dependencies, and tooling

/package.json                       @gregg
/package-lock.json                  @gregg
/tsconfig.json                      @gregg
/*.config.js                        @gregg
/*.config.ts                        @gregg
/.mcp.json                          @gregg

# =============================================================================
# MEDIUM RISK: Core Documentation
# =============================================================================
# Process documentation changes affect how work is done

/docs/MULTI-AGENT-WORKFLOW.md       @gregg
/docs/github-merge-guards.md        @gregg

# =============================================================================
# STANDARD: Frontend Source Code
# =============================================================================
# React components and frontend logic
# No specific owner required (default reviewers apply)

# /src/                             # Uncomment and add owners if needed

# =============================================================================
# LOW RISK: Workflow Artifacts
# =============================================================================
# These are auto-generated by the workflow system
# Generally don't need code owner review

# /workflow/                        # No owner - auto-generated
# /specs/                           # No owner - auto-generated
# /docs/requirements/               # No owner - auto-generated

# =============================================================================
# NOTES FOR REPOSITORY OWNERS
# =============================================================================
#
# 1. Replace @gregg with actual GitHub usernames or team names
#
# 2. To add team-based ownership:
#    /.github/workflows/   @myorg/devops-team
#    /server/              @myorg/backend-team
#
# 3. Multiple owners (any can approve):
#    /scripts/             @alice @bob @charlie
#
# 4. Patterns are matched from top to bottom; last match wins
#
# 5. To require multiple approvals from different teams:
#    - Configure branch protection to require multiple reviews
#    - List all required teams as owners on the same line
#
# 6. Test your CODEOWNERS with:
#    gh api repos/{owner}/{repo}/codeowners/errors
